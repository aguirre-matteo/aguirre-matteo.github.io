<!DOCTYPE html>
<html lang="en" dir="ltr" class="scroll-smooth" data-default-appearance="dark"
  data-auto-appearance="true"><head>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="en" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>Configure RAID in your server with mdadm &middot; Aguirre Matteo</title>
  <meta name="title" content="Configure RAID in your server with mdadm &middot; Aguirre Matteo" />
  
  <meta name="description" content="Discover how RAID can improve I/O performance and data reliability for your Linux server." />
  <meta name="keywords" content="raid, mdadm, storage, performance, security, " />
  
  
  <link rel="canonical" href="https://example.org/blog/linux/raid/" />
  
  
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/css/main.bundle.min.898473f9ee47406967ffbe07315419eb3e47fe292966da1d3a2e00fe938f5397b2ab841e671f01eafe0a738fc409c2ef7e54cc70a1b84a5317a12f47989c8f52.css"
    integrity="sha512-iYRz&#43;e5HQGln/74HMVQZ6z5H/ikpZtodOi4A/pOPU5eyq4QeZx8B6v4Kc4/ECcLvflTMcKG4SlMXoS9HmJyPUg==" />
  
  
  <script type="text/javascript" src="/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
  
  
  
  
  
  
  
  
  
  
  <script defer type="text/javascript" id="script-bundle" src="/js/main.bundle.min.b6411b5d4cd56c0068d34c4acbce043846adad56b824e3d486a06d3459aed2eb7f7413874b7871cc2c822c8c8834cbed944022918bcc8cca710a962167c36d32.js"
    integrity="sha512-tkEbXUzVbABo00xKy84EOEatrVa4JOPUhqBtNFmu0ut/dBOHS3hxzCyCLIyINMvtlEAikYvMjMpxCpYhZ8NtMg==" data-copy="Copy" data-copied="Copied"></script>
  
  
  
  <script src="/lib/zoom/zoom.min.f592a181a15d2a5b042daa7f746c3721acf9063f8b6acd175d989129865a37d400ae0e85b640f9ad42cd98d1f8ad30931718cf8811abdcc5fcb264400d1a2b0c.js" integrity="sha512-9ZKhgaFdKlsELap/dGw3Iaz5Bj&#43;Las0XXZiRKYZaN9QArg6FtkD5rULNmNH4rTCTFxjPiBGr3MX8smRADRorDA=="></script>
  
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  
  <meta property="og:url" content="https://example.org/blog/linux/raid/">
  <meta property="og:site_name" content="Aguirre Matteo">
  <meta property="og:title" content="Configure RAID in your server with mdadm">
  <meta property="og:description" content="Discover how RAID can improve I/O performance and data reliability for your Linux server.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:tag" content="Raid">
    <meta property="article:tag" content="Mdadm">
    <meta property="article:tag" content="Storage">
    <meta property="article:tag" content="Performance">
    <meta property="article:tag" content="Security">
    <meta property="og:image" content="https://example.org/blog/linux/raid/featured.jpg">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://example.org/blog/linux/raid/featured.jpg">
  <meta name="twitter:title" content="Configure RAID in your server with mdadm">
  <meta name="twitter:description" content="Discover how RAID can improve I/O performance and data reliability for your Linux server.">

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Blog",
    "name": "Configure RAID in your server with mdadm",
    "headline": "Configure RAID in your server with mdadm",
    "description": "Discover how RAID can improve I\/O performance and data reliability for your Linux server.",
    
    "inLanguage": "en",
    "url" : "https:\/\/example.org\/blog\/linux\/raid\/",
    "author" : {
      "@type": "Person",
      "name": "Aguirre Matteo"
    },
    
    
    
    
    
    
    "keywords": ["raid","mdadm","storage","performance","security"],
    
    "mainEntityOfPage": "true",
    "wordCount": "1303"
  }]
  </script>


  
  
  <meta name="author" content="Aguirre Matteo" />
  
  
  
  
  <link href="https://github.com/aguirre-matteo" rel="me" />
  
  
  
  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>






















  
  



  
  
  <meta name="theme-color"/>
  
  
</head>
<body
  class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
  <div id="the-top" class="absolute flex self-center">
    <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
      href="#main-content"><span
        class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a>
  </div>
  
  
  <div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3">
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            
            <a href="/" class="text-base font-medium text-gray-500 hover:text-gray-900">Aguirre Matteo</a>
            

        </nav>
        <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">

            
            
            
  <a href="/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="Aguirre Matteo&#39;s personal website">
        Home
    </p>
</a>



            
            
  <a href="/blog/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="Blog">
        Blog
    </p>
</a>



            
            
  <a href="/categories/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="Categories">
        Categories
    </p>
</a>



            
            
  <a href="https://github.com/aguirre-matteo"  target="_blank"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <span >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>


    </span>
    
    <p class="text-base font-medium" title="">
        
    </p>
</a>



            
            

            


            
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            


            
            
            <div
                class=" flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">

            <span></span>

            


            
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-1 rtl:ml-1">
                <div class="flex items-center justify-center dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 md:hidden">

        <label id="menu-button" class="block">
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li id="menu-close-button">
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                    
  <li class="mt-1">
    <a href="/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="Aguirre Matteo&#39;s personal website">
            Home
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/blog/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="Blog">
            Blog
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/categories/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="Categories">
            Categories
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="https://github.com/aguirre-matteo"  target="_blank"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <div >
            

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>


        </div>
        
        <p class="text-bg font-bg" title="">
            
        </p>
    </a>
</li>




                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>





  
  <div class="relative flex flex-col grow">
    <main id="main-content" class="grow">
      


<article>
  
  
  
  
  
  


<div class="w-full rounded-md h-36 md:h-56 lg:h-72 single_hero_basic nozoom" style="background-image:url(/blog/linux/raid/featured_hu_1a8a07dfbd3e48a7.jpg);"></div>



<div class="fixed inset-x-0 top-0 h-[800px] single_hero_background nozoom"
    style="background-image:url(/img/background-forest_hu_1407e58872e69ef2.png);">
    <div class="absolute inset-0 bg-gradient-to-t from-neutral dark:from-neutral-800 to-transparent mix-blend-normal">
    </div>
    <div
        class="absolute inset-0 opacity-30 dark:opacity-60 bg-gradient-to-t from-neutral dark:from-neutral-800 to-neutral dark:to-neutral-800 mix-blend-normal">
    </div>
</div>



  
  

  <header id="single_header" class="mt-5 max-w-prose">
    
    <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
      Configure RAID in your server with mdadm
    </h1>
    <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
      





  
  













  











  



<div class="flex flex-row flex-wrap items-center">
  
  
  <span title="Reading time">7 mins</span><span class="px-2 text-primary-500">&middot;</span>


<script type="text/javascript" src="/js/zen-mode.min.eea5245cf9244ecbdf2c150d1c8833226c1541cadf6e98f63a7c9192b1a3676df2c3ec603b14f4cfaaa53971fd9d8955640c0f405bf3de2b43ee7a5fb29ae721.js" integrity="sha512-7qUkXPkkTsvfLBUNHIgzImwVQcrfbpj2OnyRkrGjZ23yw&#43;xgOxT0z6qlOXH9nYlVZAwPQFvz3itD7npfsprnIQ=="></script>

<span class="mb-[2px]">
    <span id="zen-mode-button"
          class="text-lg hover:text-primary-500"
          title="Enable zen mode"
          data-title-i18n-disable="Enable zen mode"
          data-title-i18n-enable="Disable zen mode">
        <span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px">
    <path fill="currentColor" d="M 12.980469 4 C 9.1204688 4 5.9804688 7.14 5.9804688 11 L 6 26 L 9.9804688 26 L 9.9804688 11 C 9.9804688 9.35 11.320469 8 12.980469 8 L 40.019531 8 C 41.679531 8 43.019531 9.35 43.019531 11 L 43.019531 39 C 43.019531 40.65 41.679531 42 40.019531 42 L 29 42 C 29 43.54 28.420938 44.94 27.460938 46 L 40.019531 46 C 43.879531 46 47.019531 42.86 47.019531 39 L 47.019531 11 C 47.019531 7.14 43.879531 4 40.019531 4 L 12.980469 4 z M 7 28 C 4.794 28 3 29.794 3 32 L 3 42 C 3 44.206 4.794 46 7 46 L 23 46 C 25.206 46 27 44.206 27 42 L 27 32 C 27 29.794 25.206 28 23 28 L 7 28 z M 7 32 L 23 32 L 23.001953 42 L 7 42 L 7 32 z"/>
</svg>
  </span>

</span>
    </span>
</span>
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/categories/linux/&#34;,'_self');return false;">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Linux
  </span>
</span>
  </span>
  
  
  
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/raid/&#34;,'_self');return false;">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Raid
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/mdadm/&#34;,'_self');return false;">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Mdadm
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/storage/&#34;,'_self');return false;">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Storage
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/performance/&#34;,'_self');return false;">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Performance
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/security/&#34;,'_self');return false;">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Security
  </span>
</span>
  </span>
  
  
  
  
</div>




    </div>

    
    
    
    
    

    

    
      
      

      

      

    

  </header>
  
  <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
    
     <div
      class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
      <div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-10">

         <details open id="TOCView"
  class="toc-right mt-0 overflow-y-scroll overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#requirements">Requirements</a></li>
    <li><a href="#what-is-raid">What is RAID?</a></li>
    <li><a href="#levels">Levels</a>
      <ul>
        <li><a href="#raid-0-striping">RAID 0 (Striping)</a></li>
        <li><a href="#raid-1-mirroring">RAID 1 (Mirroring)</a></li>
        <li><a href="#raid-5-striping-with-distributed-parity">RAID 5 (Striping with distributed parity)</a></li>
        <li><a href="#raid-6-striping-with-double-distributed-parity">RAID 6 (Striping with double distributed parity)</a></li>
      </ul>
    </li>
    <li><a href="#creating-a-raid">Creating a RAID</a></li>
    <li><a href="#nested-raid">Nested RAID</a></li>
    <li><a href="#creating-a-nested-raid">Creating a nested RAID</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#requirements">Requirements</a></li>
    <li><a href="#what-is-raid">What is RAID?</a></li>
    <li><a href="#levels">Levels</a>
      <ul>
        <li><a href="#raid-0-striping">RAID 0 (Striping)</a></li>
        <li><a href="#raid-1-mirroring">RAID 1 (Mirroring)</a></li>
        <li><a href="#raid-5-striping-with-distributed-parity">RAID 5 (Striping with distributed parity)</a></li>
        <li><a href="#raid-6-striping-with-double-distributed-parity">RAID 6 (Striping with double distributed parity)</a></li>
      </ul>
    </li>
    <li><a href="#creating-a-raid">Creating a RAID</a></li>
    <li><a href="#nested-raid">Nested RAID</a></li>
    <li><a href="#creating-a-nested-raid">Creating a nested RAID</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
  </div>
</details>

<script>

  var margin = 200;
  var marginError = 50;

  (function () {
    var $window = $(window);
    var $toc = $('#TOCView');
    var tocHeight = $toc.height();

    function onResize() {
      var windowAndMarginHeight = $window.height() - margin;
      if(tocHeight >= windowAndMarginHeight) {
        $toc.css("overflow-y", "scroll")
        $toc.css("max-height", (windowAndMarginHeight + marginError) + "px")
      } else {
        $toc.css("overflow-y", "hidden")
        $toc.css("max-height", "9999999px")
      }
    }

    $window.on('resize', onResize);
    $(document).ready(onResize);
  })();



</script>
   </div>
      </div>
      

      <div class="min-w-0 min-h-0 max-w-fit">
        
        


        <div class="article-content max-w-prose mb-20">
          

<h2 class="relative group">Overview 
    <div id="overview" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#overview" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>RAID is a powerful solution to data redundancy and performance
improvement for disks, which allows us to create a pool of
storage devices to ensure fault tolerance, improve I/O operations
or unify their capacity into a single logical volume. In this article,
you&rsquo;ll learn how to configure RAID from scratch on your Linux server
using the <code>mdadm</code> tool. We&rsquo;ll also cover the different types of RAIDs
and the use case for each one.</p>


<h2 class="relative group">Requirements 
    <div id="requirements" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#requirements" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>For this guide, you should have installed the <code>mdadm</code> package,
which provides the utilities for working with RAID on Linux.</p>
<p>On Debian/Ubuntu, the command to install it is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt install mdadm
</span></span></code></pre></div><p>Or on Fedora/RHEL based environment, the command is:</p>
<pre tabindex="0"><code>sudo dnf install mdadm
</code></pre>

<h2 class="relative group">What is RAID? 
    <div id="what-is-raid" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#what-is-raid" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>RAID (Redundant Array of Independent Disks) is a technology that
combines multiple physical storage devices into a single unit,
with the goal to improve data redundancy (to prevent data loss)
and to improve the performance of read/write operations. RAID
can be done both via software or hardware, but hardware RAID is
beyond the scope of this guide.</p>


<h2 class="relative group">Levels 
    <div id="levels" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#levels" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>There are different &ldquo;levels&rdquo; or configurations of RAID, with each one
offering distinct benefits. The most commonly used are RAID 0, 1,
5 and 6.</p>


<h3 class="relative group">RAID 0 (Striping) 
    <div id="raid-0-striping" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#raid-0-striping" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>This level focuses entirely on improving performance. The data is
split into &ldquo;stripes&rdquo; which are distributed equally across all the disks.
This improves both the read and write speeds, since operations can
be done in parallel. The main drawback of this level is that, if one
disk is damaged/corrupted, all the information will be lost. It&rsquo;s mainly
used when data loss is not a big concern.</p>
<p>
    <figure>
      <img class="my-0 rounded-md" loading="lazy" src="./raid0.png" alt="RAID 0" />
      
    </figure>
</p>


<h3 class="relative group">RAID 1 (Mirroring) 
    <div id="raid-1-mirroring" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#raid-1-mirroring" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>This configuration ensures data redundancy, preventing data loss. It
works duplicating the data on all the drives, so if one of the disks
fail there&rsquo;s an exact copy of the file on the other drives. This improves
read performance, since data can be read in parallel. The principal
disadvantage of RAID 1 is that the storage capacity is limited to the
capacity of a single disk. Also, the write speed might be slower. It&rsquo;s
the best for critical systems where the data must be secured and available
at any moment.</p>
<p>
    <figure>
      <img class="my-0 rounded-md" loading="lazy" src="./raid1.png" alt="RAID 1" />
      
    </figure>
</p>


<h3 class="relative group">RAID 5 (Striping with distributed parity) 
    <div id="raid-5-striping-with-distributed-parity" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#raid-5-striping-with-distributed-parity" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>Just like RAID 0, this level splits the data across all the disks,
but it adds the concept of a &ldquo;parity block&rdquo;, a checksum that makes
it possible to reconstruct the original data in case a disk fails.
It offers a good balance of performance, redundancy and capacity,
since data can be read/written in parallel, it has a fault tolerance
mechanism and the total capacity is (N-1) disks where N is the
amount of disks we are using. The downside of this level is that
the write speed is considerably slower, since the CPU needs to calculate
the parity blocks. It&rsquo;s best suited for general
purpose servers, where balance is preferred.</p>
<p>
    <figure>
      <img class="my-0 rounded-md" loading="lazy" src="./raid5.png" alt="RAID 5" />
      
    </figure>
</p>


<h3 class="relative group">RAID 6 (Striping with double distributed parity) 
    <div id="raid-6-striping-with-double-distributed-parity" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#raid-6-striping-with-double-distributed-parity" aria-label="Anchor">#</a>
    </span>        
    
</h3>
<p>It&rsquo;s an extended version of RAID 5 which adds a parity block
making it able to withstand the failure of two storage devices
simultaneously without losing data. The write speed gets even
slower than with RAID 5. The total capacity will be (N-2),
so we&rsquo;ll be losing the capacity of two disks.</p>
<p>
    <figure>
      <img class="my-0 rounded-md" loading="lazy" src="./raid6.png" alt="RAID 6" />
      
    </figure>
</p>


<h2 class="relative group">Creating a RAID 
    <div id="creating-a-raid" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#creating-a-raid" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>Now it&rsquo;s time to learn how to actually create a RAID.
First of all, we have to identify the name of the disks
we want to be part of the array. In my case, I have four
virtual disks:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">myuser@deb-homelab:~# lsblk
</span></span><span class="line"><span class="cl">NAME                        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">vda                         254:0    <span class="m">0</span>    5G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">vdb                         254:16   <span class="m">0</span>    5G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">vdc                         254:32   <span class="m">0</span>    5G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">vdd                         254:48   <span class="m">0</span>    5G  <span class="m">0</span> disk 
</span></span></code></pre></div><p>If I want to make a RAID 0 using <code>vda</code> and <code>vdb</code>, I should
run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@deb-homelab:~# mdadm --create /dev/md/myraid0 --level<span class="o">=</span><span class="m">0</span> --raid-devices<span class="o">=</span><span class="m">2</span> /dev/vda /dev/vdb 
</span></span><span class="line"><span class="cl">mdadm: Defaulting to version 1.2 metadata
</span></span><span class="line"><span class="cl">mdadm: array /dev/md/myraid0 started.
</span></span><span class="line"><span class="cl">root@deb-homelab:~#
</span></span></code></pre></div><ul>
<li><code>mdadm</code>: is the RAID software for Linux.</li>
<li><code>--create</code>: this tells <code>mdadm</code> that we want to create a RAID.</li>
<li><code>/dev/md/myraid0</code>: is the name we are giving to this new array.
Make sure it starts with <code>/dev/md</code>.</li>
<li><code>--level=0</code>: sets the level of the RAID. In this case we want to
generate a RAID 0.</li>
<li><code>--raid-devices=2</code>: how much disks we&rsquo;ll use in the array.</li>
<li><code>/dev/vda /dev/vdb</code>: the disks to use in the RAID.</li>
</ul>
<p>We can verify our RAID was successfully created running:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@deb-homelab:~# cat /proc/mdstat 
</span></span><span class="line"><span class="cl">Personalities : <span class="o">[</span>raid0<span class="o">]</span> 
</span></span><span class="line"><span class="cl">md127 : active raid0 vdc<span class="o">[</span>1<span class="o">]</span> vdb<span class="o">[</span>0<span class="o">]</span>
</span></span><span class="line"><span class="cl">      <span class="m">10475520</span> blocks super 1.2 512k chunks
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl">unused devices: &lt;none&gt;
</span></span><span class="line"><span class="cl">root@deb-homelab:~#
</span></span></code></pre></div><p>Now, let&rsquo;s create a RAID 5! First I&rsquo;ll do will be
to delete the RAID we&rsquo;ve just made:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@deb-homelab:~# mdadm --stop /dev/md/myraid0 
</span></span><span class="line"><span class="cl">mdadm: stopped /dev/md/myraid0
</span></span><span class="line"><span class="cl">root@deb-homelab:~#
</span></span></code></pre></div><p>A good practice would be to also delete the RAID superblocks
from those devices, to prevent the operating system from
thinking they are part of a RAID.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@deb-homelab:~# mdadm --zero-superblock /dev/vdb /dev/vdc 
</span></span><span class="line"><span class="cl">root@deb-homelab:~#
</span></span></code></pre></div><p>And now, to create the RAID 5, all we have to do is to change
the <code>--level</code> flag to <code>5</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@deb-homelab:~# mdadm --create /dev/md/myraid5 --level<span class="o">=</span><span class="m">5</span> --raid-devices<span class="o">=</span><span class="m">4</span> /dev/vdb /dev/vdc /dev/vdd /dev/vde 
</span></span><span class="line"><span class="cl">mdadm: Defaulting to version 1.2 metadata
</span></span><span class="line"><span class="cl">mdadm: array /dev/md/myraid5 started.
</span></span><span class="line"><span class="cl">root@deb-homelab:~# apt install htop
</span></span><span class="line"><span class="cl">Reading package lists... Done
</span></span><span class="line"><span class="cl">root@deb-homelab:~# cat /proc/mdstat 
</span></span><span class="line"><span class="cl">Personalities : <span class="o">[</span>raid0<span class="o">]</span> <span class="o">[</span>raid6<span class="o">]</span> <span class="o">[</span>raid5<span class="o">]</span> <span class="o">[</span>raid4<span class="o">]</span> 
</span></span><span class="line"><span class="cl">md127 : active raid5 vde<span class="o">[</span>4<span class="o">]</span> vdd<span class="o">[</span>2<span class="o">]</span> vdc<span class="o">[</span>1<span class="o">]</span> vdb<span class="o">[</span>0<span class="o">]</span>
</span></span><span class="line"><span class="cl">      <span class="m">15713280</span> blocks super 1.2 level 5, 512k chunk, algorithm <span class="m">2</span> <span class="o">[</span>4/4<span class="o">]</span> <span class="o">[</span>UUUU<span class="o">]</span>
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl">unused devices: &lt;none&gt;
</span></span><span class="line"><span class="cl">root@deb-homelab:~# 
</span></span></code></pre></div>

<h2 class="relative group">Nested RAID 
    <div id="nested-raid" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#nested-raid" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>A nested RAID is a configuration where two or more RAID
levels are combined to achieve a better balance or
performance than what a single RAID could offer.
In essence, a nested RAID could be interpreted as a
&ldquo;RAID of RAIDs&rdquo;. A common example of this is RAID 10 (1+0),
which strips the data across mirrored pairs of disks,
giving us the write speed boost of RAID 0, while also
the fault tolerance of RAID 1, since the data is mirrored.</p>
<p>
    <figure>
      <img class="my-0 rounded-md" loading="lazy" src="./raid10.png" alt="RAID 10" />
      
    </figure>
</p>
<p>RAID 50 (5+0) is another nested RAID configuration,
which divides the data through an array of RAID 5s,
combining the inherit speed boost of RAID 0, with the
space-efficient fault tolerance of distributed parity.
This configuration in particular resists the failure
of one disk per RAID 5 in the array.</p>
<p>
    <figure>
      <img class="my-0 rounded-md" loading="lazy" src="./raid50.png" alt="RAID 50" />
      
    </figure>
</p>


<h2 class="relative group">Creating a nested RAID 
    <div id="creating-a-nested-raid" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#creating-a-nested-raid" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>We can build a nested RAID just by changing the storage devices
we pass to <code>mdadm --create</code> with RAID devices. For example, to
create a RAID 10, I&rsquo;ll first create two RAID 1s, and then I&rsquo;ll
make a RAID 0 passing those RAIDs as arguments:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@deb-homelab:~# mdadm --create /dev/md/raid1a --level<span class="o">=</span><span class="m">1</span> --raid-devices<span class="o">=</span><span class="m">2</span> /dev/vdb /dev/vdc
</span></span><span class="line"><span class="cl">mdadm: array /dev/md/raid1a started.
</span></span><span class="line"><span class="cl">root@deb-homelab:~# mdadm --create /dev/md/raid1b --level<span class="o">=</span><span class="m">1</span> --raid-devices<span class="o">=</span><span class="m">2</span> /dev/vdd /dev/vde
</span></span><span class="line"><span class="cl">mdadm: array /dev/md/raid1b started.
</span></span><span class="line"><span class="cl">root@deb-homelab:~# mdadm --create /dev/md/raid10 --level<span class="o">=</span><span class="m">0</span> --raid-devices<span class="o">=</span><span class="m">2</span> /dev/md/raid1a /dev/md/raid1b
</span></span><span class="line"><span class="cl">mdadm: Defaulting to version 1.2 metadata
</span></span><span class="line"><span class="cl">mdadm: array /dev/md/raid10 started.
</span></span><span class="line"><span class="cl">root@deb-homelab:~# 
</span></span></code></pre></div><p>Now if we see the contents of <code>/proc/mdstat</code>, we&rsquo;ll notice there
are three devices, and one of them is made of the other two RAIDs:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@deb-homelab:~# cat /proc/mdstat 
</span></span><span class="line"><span class="cl">Personalities : <span class="o">[</span>raid6<span class="o">]</span> <span class="o">[</span>raid5<span class="o">]</span> <span class="o">[</span>raid4<span class="o">]</span> <span class="o">[</span>linear<span class="o">]</span> <span class="o">[</span>multipath<span class="o">]</span> <span class="o">[</span>raid0<span class="o">]</span> <span class="o">[</span>raid1<span class="o">]</span> <span class="o">[</span>raid10<span class="o">]</span> 
</span></span><span class="line"><span class="cl">md125 : active raid0 md126<span class="o">[</span>1<span class="o">]</span> md127<span class="o">[</span>0<span class="o">]</span>
</span></span><span class="line"><span class="cl">      <span class="m">10465280</span> blocks super 1.2 512k chunks
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl">md126 : active raid1 vde<span class="o">[</span>1<span class="o">]</span> vdd<span class="o">[</span>0<span class="o">]</span>
</span></span><span class="line"><span class="cl">      <span class="m">5237760</span> blocks super 1.2 <span class="o">[</span>2/2<span class="o">]</span> <span class="o">[</span>UU<span class="o">]</span>
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl">md127 : active raid1 vdc<span class="o">[</span>1<span class="o">]</span> vdb<span class="o">[</span>0<span class="o">]</span>
</span></span><span class="line"><span class="cl">      <span class="m">5237760</span> blocks super 1.2 <span class="o">[</span>2/2<span class="o">]</span> <span class="o">[</span>UU<span class="o">]</span>
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl">unused devices: &lt;none&gt;
</span></span><span class="line"><span class="cl">root@deb-homelab:~#
</span></span></code></pre></div><p>The same would apply for any other kind of nested RAID. For
instance, to create a RAID 51 we&rsquo;ll do:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@deb-homelab:~# mdadm --create /dev/md/raid5a --level<span class="o">=</span><span class="m">5</span> --raid-devices<span class="o">=</span><span class="m">3</span> /dev/vdb /dev/vdc /dev/vdd
</span></span><span class="line"><span class="cl">mdadm: array /dev/md/raid5a started.
</span></span><span class="line"><span class="cl">root@deb-homelab:~# mdadm --create /dev/md/raid5b --level<span class="o">=</span><span class="m">5</span> --raid-devices<span class="o">=</span><span class="m">3</span> /dev/vde /dev/vdf /dev/vdg
</span></span><span class="line"><span class="cl">mdadm: array /dev/md/raid5b started.
</span></span><span class="line"><span class="cl">root@deb-homelab:~# mdadm --create /dev/md/raid51 --level<span class="o">=</span><span class="m">1</span> --raid-devices<span class="o">=</span><span class="m">2</span> /dev/md/raid5a /dev/md/raid5b
</span></span><span class="line"><span class="cl">mdadm: array /dev/md/raid51 started.
</span></span></code></pre></div>

<h2 class="relative group">Conclusion 
    <div id="conclusion" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#conclusion" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>This guide explains the fundamental ideas behind RAID
and how to create your own using Linux and <code>mdadm</code>. If
you find this page useful, feel free to share it with
someone else. Have a nice day!</p>

          
          
          
        </div>
        
        

        
        

          
      </div>
     
      
      
        
        
          
          
        
      <script>
        var oid = "views_blog\/linux\/raid\/index.md"
        var oid_likes = "likes_blog\/linux\/raid\/index.md"
      </script>
      
      
      <script type="text/javascript" src="/js/page.min.0860cf4e04fa2d72cc33ddba263083464d48f67de06114529043cb4623319efed4f484fd7f1730df5abea0e2da6f3538855634081d02f2d6e920b956f063e823.js" integrity="sha512-CGDPTgT6LXLMM926JjCDRk1I9n3gYRRSkEPLRiMxnv7U9IT9fxcw31q&#43;oOLabzU4hVY0CB0C8tbpILlW8GPoIw=="></script>
      
  
    </section>
  <footer class="pt-8 max-w-prose print:hidden">

    
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="flex group mr-3" href="/blog/linux/ssh/">
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >How to use SSH from scratch</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
        </span>
      </div>
    </div>
  


    
  </footer>
</article>

      <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top" title="Scroll to top">
    &uarr;
  </a>
</div>
    </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
  
  <div class="flex items-center justify-between">

    
    
    <p class="text-sm text-neutral-500 dark:text-neutral-400">
      © 2025, CC0 1.0 Universal. |
    </p>
    

    
    
    <p class="text-xs text-neutral-500 dark:text-neutral-400">
      
      
      Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a>
    </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script>
  
  
  <script type="text/javascript" src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js" integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="https://example.org/"
  style="z-index:500"
>
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)"
      >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

  </div>
</body>

</html>
